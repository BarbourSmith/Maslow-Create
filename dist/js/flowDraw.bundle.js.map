{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/flowDraw.js"],"names":["canvas","document","querySelector","c","getContext","width","innerWidth","height","innerHeight","sideBar","lowerHalfOfScreen","setAttribute","flowCanvas","getElementById","addEventListener","showmenu","currentMolecule","nodesOnTheScreen","forEach","molecule","clickMove","event","clientX","clientY","window","console","log","bounds","getBoundingClientRect","clickHandledByMolecule","clickDown","backgroundClick","contains","target","hidemenu","doubleClick","clickUp","keyPress","key","availableTypes","circle","creator","Circle","atomType","rectangle","Rectangle","shirinkwrap","ShrinkWrap","translate","Translate","regularPolygon","RegularPolygon","extrude","Extrude","scale","Scale","intersection","Intersection","difference","Difference","costant","Constant","equation","Equation","Molecule","input","Input","readme","Readme","rotate","Rotate","mirror","Mirror","githubmolecule","GitHubMolecule","union","Union","secretTypes","output","Output","topLevelMolecule","menu","init","x","y","topLevel","name","uniqueID","generateUniqueID","classList","add","menuList","newElement","createElement","instance","text","createTextNode","appendChild","placeNewNode","Math","floor","random","distBetweenPoints","x1","x2","y1","y2","a2","pow","b2","dist","sqrt","animate","requestAnimationFrame","clearRect","update"],"mappings":"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","file":"./js/flowDraw.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/flowDraw.js\");\n","//import utils from './utils'\r\n\r\nconst canvas = document.querySelector('canvas')\r\nconst c = canvas.getContext('2d')\r\n\r\ncanvas.width = innerWidth\r\ncanvas.height = innerHeight/2\r\n\r\n//put some content in the sidebar at launch\r\nlet sideBar = document.querySelector('.sideBar');\r\nlet lowerHalfOfScreen = document.querySelector('.flex-parent');\r\nlowerHalfOfScreen.setAttribute(\"style\",\"height:\"+innerHeight/2.1+\"px\");\r\n\r\n// Event Listeners\r\nlet flowCanvas = document.getElementById('flow-canvas');\r\nflowCanvas.addEventListener('contextmenu', showmenu);\r\n\r\nflowCanvas.addEventListener('mousemove', event => {\r\n    currentMolecule.nodesOnTheScreen.forEach(molecule => {\r\n        molecule.clickMove(event.clientX,event.clientY);        \r\n    });\r\n})\r\n\r\nwindow.addEventListener('resize', event => {\r\n    \r\n    console.log(\"resize\");\r\n    \r\n    var bounds = canvas.getBoundingClientRect();\r\n    canvas.width = bounds.width;\r\n    canvas.height = bounds.height; \r\n\r\n})\r\n\r\nflowCanvas.addEventListener('mousedown', event => {\r\n    //every time the mouse button goes down\r\n    \r\n    var clickHandledByMolecule = false;\r\n    \r\n    currentMolecule.nodesOnTheScreen.forEach(molecule => {\r\n        if (molecule.clickDown(event.clientX,event.clientY) == true){\r\n            clickHandledByMolecule = true;\r\n        }\r\n    });\r\n    \r\n    if(!clickHandledByMolecule){\r\n        currentMolecule.backgroundClick();\r\n    }\r\n    \r\n    //hide the menu if it is visible\r\n    if (!document.querySelector('.menu').contains(event.target)) {\r\n        hidemenu();\r\n    }\r\n    \r\n})\r\n\r\nflowCanvas.addEventListener('dblclick', event => {\r\n    //every time the mouse button goes down\r\n    \r\n    var clickHandledByMolecule = false;\r\n    \r\n    currentMolecule.nodesOnTheScreen.forEach(molecule => {\r\n        if (molecule.doubleClick(event.clientX,event.clientY) == true){\r\n            clickHandledByMolecule = true;\r\n        }\r\n    });\r\n    \r\n    if (clickHandledByMolecule == false){\r\n        showmenu(event);\r\n    }\r\n})\r\n\r\nflowCanvas.addEventListener('mouseup', event => {\r\n    //every time the mouse button goes up\r\n    currentMolecule.nodesOnTheScreen.forEach(molecule => {\r\n        molecule.clickUp(event.clientX,event.clientY);      \r\n    });\r\n})\r\n\r\nwindow.addEventListener('keydown', event => {\r\n    //every time the mouse button goes up\r\n    \r\n    currentMolecule.nodesOnTheScreen.forEach(molecule => {\r\n        molecule.keyPress(event.key);      \r\n    });\r\n})\r\n\r\n\r\n// Implementation\r\n\r\nvar availableTypes = {\r\n    circle:        {creator: Circle, atomType: \"Circle\"},\r\n    rectangle:     {creator: Rectangle, atomType: \"Rectangle\"},\r\n    shirinkwrap:   {creator: ShrinkWrap, atomType: \"ShrinkWrap\"},\r\n    translate:     {creator: Translate, atomType: \"Translate\"},\r\n    regularPolygon:{creator: RegularPolygon, atomType: \"RegularPolygon\"},\r\n    extrude:       {creator: Extrude, atomType: \"Extrude\"},\r\n    scale:         {creator: Scale, atomType: \"Scale\"},\r\n    intersection:  {creator: Intersection, atomType: \"Intersection\"},\r\n    difference:    {creator: Difference, atomType: \"Difference\"},\r\n    costant:       {creator: Constant, atomType: \"Constant\"},\r\n    equation:      {creator: Equation, atomType: \"Equation\"},\r\n    molecule:      {creator: Molecule, atomType: \"Molecule\"},\r\n    input:         {creator: Input, atomType: \"Input\"},\r\n    readme:        {creator: Readme, atomType: \"Readme\"},\r\n    rotate:        {creator: Rotate, atomType: \"Rotate\"},\r\n    mirror:        {creator: Mirror, atomType: \"Mirror\"},\r\n    githubmolecule:{creator: GitHubMolecule, atomType: \"GitHubMolecule\"},\r\n    union:         {creator: Union, atomType: \"Union\"}\r\n}\r\n\r\nvar secretTypes = {\r\n    output:        {creator: Output, atomType: \"Output\"}\r\n}\r\n\r\n\r\nlet currentMolecule;\r\nlet topLevelMolecule;\r\nlet menu;\r\n\r\nfunction init() {\r\n    currentMolecule = new Molecule({\r\n        x: 0, \r\n        y: 0, \r\n        topLevel: true, \r\n        name: \"Maslow Create\",\r\n        atomType: \"Molecule\",\r\n        uniqueID: generateUniqueID()\r\n    });\r\n    \r\n    menu = document.querySelector('.menu');\r\n    menu.classList.add('off');\r\n    menuList = document.getElementById(\"menuList\");\r\n    \r\n    //Add the search bar to the list item\r\n    \r\n    for(var key in availableTypes) {\r\n        var newElement = document.createElement(\"LI\");\r\n        var instance = availableTypes[key];\r\n        var text = document.createTextNode(instance.atomType);\r\n        newElement.setAttribute(\"class\", \"menu-item\");\r\n        newElement.setAttribute(\"id\", instance.atomType);\r\n        newElement.appendChild(text); \r\n        menuList.appendChild(newElement); \r\n        \r\n        document.getElementById(instance.atomType).addEventListener('click', placeNewNode);\r\n    }\r\n}\r\n\r\nfunction generateUniqueID(){\r\n    return Math.floor(Math.random()*900000) + 100000;\r\n}\r\n\r\nfunction distBetweenPoints(x1, x2, y1, y2){\r\n    var a2 = Math.pow(x1 - x2, 2);\r\n    var b2 = Math.pow(y1 - y2, 2);\r\n    var dist = Math.sqrt(a2 + b2);\r\n    \r\n    return dist;\r\n}\r\n\r\n// Animation Loop\r\nfunction animate() {\r\n    requestAnimationFrame(animate);\r\n    c.clearRect(0, 0, canvas.width, canvas.height);\r\n    \r\n    //c.fillText('T', mouse.x, mouse.y)\r\n    currentMolecule.nodesOnTheScreen.forEach(molecule => {\r\n        molecule.update();\r\n    });\r\n}\r\n\r\ninit()\r\nanimate()\r\n"],"sourceRoot":""}